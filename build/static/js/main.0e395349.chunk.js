(this.webpackJsonpcontact_list_react=this.webpackJsonpcontact_list_react||[]).push([[0],{30:function(t,e,n){},31:function(t,e,n){},32:function(t,e,n){},38:function(t,e,n){},39:function(t,e,n){"use strict";n.r(e);var c=n(20),a=n(4),r=n.n(a),o=n(9),s=n(12),i=n(7),u=n(1),l=n(0),j=n(22),b=n.n(j),d=(n(30),n(10)),h=n(2);function p(){return(p=Object(o.a)(r.a.mark((function t(e){var n,c,a,o,s,i=arguments;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=i.length>1&&void 0!==i[1]?i[1]:"GET",c=i.length>2&&void 0!==i[2]?i[2]:null,a={method:n,headers:{"Content-Type":"application/json",Authorization:"Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VybmFtZSI6ImFuZHJldyIsImlhdCI6MTYwNTU3OTQ0MiwiZXhwIjoxNjA2MTg0MjQyfQ.DzczKUz2dVrLpdRGayS4yEiHC9aPWPnuqCoCqDstY-s"}},c&&(a.body=JSON.stringify(c)),t.next=6,fetch(e,a);case 6:return o=t.sent,t.next=9,o.json();case 9:return s=t.sent,t.abrupt("return",s);case 11:case"end":return t.stop()}}),t)})))).apply(this,arguments)}var O=function(t){return p.apply(this,arguments)},m=(n(31),n(32),function(t){var e=t.handleClick,n=Object(l.useState)(""),c=Object(i.a)(n,2),a=c[0],r=c[1];return Object(u.jsxs)("form",{className:"comment-form",onSubmit:function(t){t.preventDefault(),a&&(e(a),r(""))},children:[Object(u.jsx)("textarea",{type:"text",value:a,rows:"8",columns:"80",onChange:function(){r(event.target.value)},placeholder:"Comment"}),Object(u.jsx)("button",{children:"Comment on Contact"})]})}),x=function(t){var e=t.contactList,n=t.setEditableContact,c=t.setContactList;return Object(u.jsx)("div",{className:"list",children:e.map((function(t){return Object(u.jsxs)("div",{className:"contact",children:[Object(u.jsxs)("div",{className:"info",children:[Object(u.jsxs)("h2",{children:[t.name," (",t.contactType,")"]}),Object(u.jsxs)("p",{children:["Address: ",t.address]}),Object(u.jsxs)("p",{children:["Number: ",t.phoneNumber]}),Object(u.jsxs)("p",{children:["Email: ",t.email]})]}),Object(u.jsxs)("div",{className:"options",children:[Object(u.jsx)("button",{onClick:Object(o.a)(r.a.mark((function n(){var a;return r.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,a="https://univ-contact-book.herokuapp.com/api/contacts/".concat(t.id),n.next=4,O(a,"DELETE");case 4:n.sent,c(e.filter((function(e){return t!==e}))),n.next=11;break;case 8:n.prev=8,n.t0=n.catch(0),console.log(n.t0);case 11:case"end":return n.stop()}}),n,null,[[0,8]])}))),children:"Delete"}),Object(u.jsx)(d.b,{to:"/form",children:Object(u.jsx)("button",{onClick:function(){n(t)},children:"Edit"})}),Object(u.jsx)(m,{handleClick:function(){var n=Object(o.a)(r.a.mark((function n(a){var o;return r.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return o={content:a},n.prev=1,n.next=4,O("https://univ-contact-book.herokuapp.com/api/contacts/".concat(t.id,"/comments"),"POST",o).then((function(n){var a=Object(s.a)(e),r=a.indexOf(t);a[r].comments.push(n.comment),c(a)})).catch(console.error);case 4:n.next=9;break;case 6:n.prev=6,n.t0=n.catch(1),console.log(n.t0);case 9:case"end":return n.stop()}}),n,null,[[1,6]])})));return function(t){return n.apply(this,arguments)}}()})]}),t.comments?t.comments.map((function(n,a){return Object(u.jsxs)("div",{className:"comment",children:[Object(u.jsx)("p",{children:n.content}),Object(u.jsx)("button",{onClick:Object(o.a)(r.a.mark((function a(){var o,i,u;return r.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,O("https://univ-contact-book.herokuapp.com/api/comments/".concat(n.id),"DELETE");case 3:o=Object(s.a)(e),i=o.indexOf(t),u=o[i].comments.indexOf(n),o[i].comments.splice(u,1),c(o),a.next=13;break;case 10:a.prev=10,a.t0=a.catch(0),console.log(a.t0);case 13:case"end":return a.stop()}}),a,null,[[0,10]])}))),children:"DELETE"})]},a)})):null]},t.id)}))})},f=(n(38),function(t){t.setContactList,t.contactList;var e=t.addNewContact,n=t.id,c=t.updateContact,a=t.setEditableContact,s=["choose type","work","personal","other"],j=Object(l.useState)(""),b=Object(i.a)(j,2),h=b[0],p=b[1],m=Object(l.useState)(""),x=Object(i.a)(m,2),f=x[0],v=x[1],C=Object(l.useState)(""),k=Object(i.a)(C,2),y=k[0],g=k[1],w=Object(l.useState)(""),N=Object(i.a)(w,2),E=N[0],S=N[1],T=Object(l.useState)(s[0]),L=Object(i.a)(T,2),I=L[0],D=L[1],J=Object(l.useState)(!1),P=Object(i.a)(J,2),A=P[0],z=P[1];return Object(l.useEffect)((function(){v(t.address||""),p(t.name||""),g(t.phoneNumber||""),S(t.email||""),D(t.contactType||"")}),[n]),Object(u.jsxs)("form",{className:"contact-form",onSubmit:function(){var t=Object(o.a)(r.a.mark((function t(o){var s,i;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(o.preventDefault(),s={name:h,address:f,phoneNumber:y,email:E,contactType:I},!n){t.next=17;break}return t.prev=3,t.next=6,O("https://univ-contact-book.herokuapp.com/api/contacts/".concat(n),"PATCH",s);case 6:i=t.sent,c(i.contact),z(!0),a({}),t.next=15;break;case 12:t.prev=12,t.t0=t.catch(3),console.log(t.t0);case 15:t.next=25;break;case 17:return t.prev=17,t.next=20,O("https://univ-contact-book.herokuapp.com/api/contacts","POST",s).then((function(t){z(!0),e(t.contact)})).catch((function(t){console.log(t)}));case 20:t.next=25;break;case 22:t.prev=22,t.t1=t.catch(17),console.log(t.t1);case 25:v(""),p(""),g(""),S(""),D("");case 26:case"end":return t.stop()}}),t,null,[[3,12],[17,22]])})));return function(e){return t.apply(this,arguments)}}(),children:[Object(u.jsx)("label",{children:"Name"}),Object(u.jsx)("input",{type:"text",value:h,placeholder:"Contact Name",onChange:function(t){return p(t.target.value)}}),Object(u.jsx)("label",{children:"Address"}),Object(u.jsx)("input",{type:"text",value:f,placeholder:"Contact Address",onChange:function(t){return v(t.target.value)}}),Object(u.jsx)("label",{children:"Phone Number"}),Object(u.jsx)("input",{type:"text",value:y,placeholder:"Contact Phone Number",onChange:function(t){return g(t.target.value)}}),Object(u.jsx)("label",{children:"Email"}),Object(u.jsx)("input",{type:"text",value:E,placeholder:"Contact email address",onChange:function(t){return S(t.target.value)}}),Object(u.jsx)("label",{children:"Content Type"}),Object(u.jsx)("select",{value:I,onChange:function(t){return D(t.target.value)},children:s.map((function(t,e){return Object(u.jsx)("option",{value:t,children:t},e)}))}),Object(u.jsx)("button",{id:"submit",children:n?"Edit Contact":"Create Contact"}),Object(u.jsx)(d.b,{to:"/",children:Object(u.jsx)("div",{id:"return",children:"Return"})}),A?Object(u.jsxs)("div",{children:[Object(u.jsx)("h1",{children:"You've made a change to your Contact list!"}),Object(u.jsx)("p",{children:"Continue to make changes or click above to return to your contacts"})]}):null]})}),v=function(){var t=Object(l.useState)([]),e=Object(i.a)(t,2),n=e[0],a=e[1],j=Object(l.useState)({}),b=Object(i.a)(j,2),p=b[0],m=b[1],v=Object(l.useState)(""),C=Object(i.a)(v,2),k=C[0],y=C[1];return Object(l.useEffect)(Object(o.a)(r.a.mark((function t(){return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:O("https://univ-contact-book.herokuapp.com/api/contacts").then((function(t){a(t.contacts)})).catch(console.error);case 1:case"end":return t.stop()}}),t)}))),[]),Object(u.jsx)(d.a,{children:Object(u.jsxs)(h.c,{children:[Object(u.jsxs)(h.a,{path:"/form",children:[Object(u.jsx)("div",{className:"header",children:"Contact Form"}),Object(u.jsx)(f,Object(c.a)(Object(c.a)({setContactList:a,addNewContact:function(t){a([].concat(Object(s.a)(n),[t]))},contactList:n},p),{},{setEditableContact:m,updateContact:function(t){var e=n.findIndex((function(e){return e.id===t.id}));if(e>-1){var c=Object(s.a)(n);c[e]=t,a(c)}}}))]}),Object(u.jsxs)(h.a,{path:"/",children:[Object(u.jsx)("div",{className:"header",children:"Contact List"}),Object(u.jsxs)("div",{id:"interaction",children:[Object(u.jsxs)("span",{children:["Create Contact",Object(u.jsx)(d.b,{to:"/form",children:Object(u.jsx)("button",{id:"create",children:"+"})})]}),Object(u.jsxs)("div",{id:"search",children:[Object(u.jsx)("label",{htmlFor:"keywords",children:"Search by Name"}),Object(u.jsx)("input",{id:"keywords",type:"text",placeholder:"Enter Contact Name",value:k,onChange:function(t){y(t.target.value)}})]})]}),Object(u.jsx)(x,{contactList:n.filter((function(t){return t.name.toLowerCase().includes(k.toLowerCase())})),setContactList:a,editableContact:p,setEditableContact:m})]})]})})};b.a.render(Object(u.jsx)(v,{}),document.getElementById("app"))}},[[39,1,2]]]);
//# sourceMappingURL=main.0e395349.chunk.js.map