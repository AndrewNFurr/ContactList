{"version":3,"sources":["api/index.js","components/CommentForm.js","components/ContactView.js","components/ContactForm.js","index.js"],"names":["url","a","method","sendData","fetchOptions","headers","body","JSON","stringify","fetch","response","json","data","fetchAPI","CommentForm","handleClick","useState","comment","setComment","className","onSubmit","event","preventDefault","type","value","rows","columns","onChange","target","placeholder","ContactView","contactList","setEditableContact","setContactList","map","contact","name","contactType","address","phoneNumber","email","onClick","id","filter","deleted","console","log","to","content","payload","then","resp","newList","idx","indexOf","comments","push","catch","error","commentIdx","splice","ContactForm","props","addNewContact","updateContact","CONTACT_OPTIONS","setName","setAddress","setPhoneNumber","setEmail","setContactType","madeChanges","setMadeChanges","useEffect","contactInfo","editContact","newContact","App","editableContact","search","setSearch","contacts","path","updatedContact","index","findIndex","contactListCopy","htmlFor","toLowerCase","includes","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.0e395349.chunk.js","sourcesContent":["async function fetchAPI(url, method=\"GET\", sendData=null) {\n    const fetchOptions = {\n      method: method,\n      headers: {\n        'Content-Type': 'application/json',\n        'Authorization': 'Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VybmFtZSI6ImFuZHJldyIsImlhdCI6MTYwNTU3OTQ0MiwiZXhwIjoxNjA2MTg0MjQyfQ.DzczKUz2dVrLpdRGayS4yEiHC9aPWPnuqCoCqDstY-s'\n      }\n    };\n  \n    if (sendData) {\n      fetchOptions.body = JSON.stringify(sendData);\n    }\n  \n    const response = await fetch(url, fetchOptions);\n    const data = await response.json();\n  \n    return data;\n  }\n\n  export default fetchAPI;","import React, { useState } from 'react';\nimport './CommentForm.css'\n\nconst CommentForm = ({\n    handleClick,\n}) => {\n    const [comment, setComment] = useState('')\n\n    return <form className='comment-form'\n                 onSubmit={(event) => {\n        event.preventDefault();\n        if (comment) {\n        handleClick(comment)\n        setComment('')\n    }\n    }}>\n        <textarea\n            type='text'\n            value={comment}\n            rows='8'\n            columns=\"80\"\n            onChange={() => {setComment(event.target.value)}}\n            placeholder=\"Comment\"\n            />\n        <button>Comment on Contact</button>\n    </form>\n}\n\nexport default CommentForm","import React, { useState } from 'react'\nimport fetchAPI  from '../api';\nimport './ContactView.css'\nimport CommentForm from './CommentForm'\nimport { Link } from 'react-router-dom'\n\nconst ContactView = ({\n    contactList,\n    setEditableContact,\n    setContactList,\n}) => {\n\n    return <div className=\"list\"\n                >\n        {contactList.map(contact => {\n            return <div key={contact.id}\n                        className='contact'>\n                <div className=\"info\">\n                    <h2>{contact.name} ({contact.contactType})</h2>\n                    <p>Address: {contact.address}</p>\n                    <p>Number: {contact.phoneNumber}</p>\n                    <p>Email: {contact.email}</p>\n                </div>\n                <div className='options'>\n                    <button onClick={async () => {\n                        try {\n                            const url = `https://univ-contact-book.herokuapp.com/api/contacts/${contact.id}`;\n                            const data = await fetchAPI(url, \"DELETE\")\n                            setContactList(contactList.filter(deleted => {\n                                return contact !== deleted\n                            }))\n                        } catch (error) {\n                            console.log(error)\n                        }\n                    }}>Delete</button>\n                    <Link to='/form'><button onClick={() => {\n                        setEditableContact(contact);\n                    }}>Edit</button></Link>\n                    <CommentForm handleClick={async (content) => {\n                        const payload = {\n                            content: content,\n                        }\n\n                        try {\n                            await fetchAPI(`https://univ-contact-book.herokuapp.com/api/contacts/${contact.id}/comments`, \n                                        \"POST\", \n                                        payload)\n                                .then((resp) => {\n                                    const newList = [...contactList];\n                                    let idx = newList.indexOf(contact);\n                                    newList[idx].comments.push(resp.comment)\n                                    setContactList(newList);\n                                    }).catch(console.error)\n                        } catch(error) {console.log(error)}\n                    }} />\n                </div>\n                { contact.comments ? \n                    contact.comments.map((comment, idx) => {\n                    return <div key={idx}\n                                className='comment'>\n                            <p>{comment.content}</p>\n                            <button onClick={async () => {\n                                try {\n                                    await fetchAPI(`https://univ-contact-book.herokuapp.com/api/comments/${comment.id}`, \"DELETE\");\n                                    const newList = [...contactList];\n                                    let idx = newList.indexOf(contact);\n                                    let commentIdx = newList[idx].comments.indexOf(comment)\n                                    newList[idx].comments.splice(commentIdx, 1);\n                                    setContactList(newList);\n                                } catch(error) {\n                                    console.log(error)\n                                }\n                            }}>DELETE</button>\n                        </div>\n                    }) : null\n                }\n            </div>\n        })}\n    </div>\n}\n\nexport default ContactView;","import React, { useState, useEffect } from 'react';\nimport fetchAPI from '../api'\nimport './ContactForm.css'\nimport { Link } from 'react-router-dom'\n\nconst ContactForm = (props) => {\n    const {\n        setContactList,\n        contactList,\n        addNewContact,\n        id,\n        updateContact,\n        setEditableContact\n    } = props\n\n    const CONTACT_OPTIONS = ['choose type', 'work', 'personal', 'other']\n\n    const [name, setName] = useState('');\n    const [address, setAddress] = useState('');\n    const [phoneNumber, setPhoneNumber] = useState('');\n    const [email, setEmail] = useState('');\n    const [contactType, setContactType] = useState(CONTACT_OPTIONS[0]);\n    const [madeChanges, setMadeChanges] = useState(false);\n\n    useEffect(() => {\n        setAddress(props.address || '')\n        setName(props.name || '')\n        setPhoneNumber(props.phoneNumber || '')\n        setEmail(props.email || '')\n        setContactType(props.contactType || '')\n    }, [id])\n\n    function clearForm() {\n        setAddress('');\n        setName('')\n        setPhoneNumber('')\n        setEmail('');\n        setContactType('')\n    }\n\n    return <form\n              className=\"contact-form\"\n              onSubmit={async (event) => {\n                  event.preventDefault();\n                  \n                  const contactInfo = {\n                        name,\n                        address,\n                        phoneNumber,\n                        email,\n                        contactType\n                    }\n                  if (id) {\n                      try {\n                      const editContact = await fetchAPI(`https://univ-contact-book.herokuapp.com/api/contacts/${id}`,\n                                                         \"PATCH\",\n                                                         contactInfo)\n                      updateContact(editContact.contact);\n                      setMadeChanges(true)\n                      setEditableContact({})\n                      } catch(error) {\n                          console.log(error);\n                      }\n                  } else {\n                  try {\n                      await fetchAPI(\"https://univ-contact-book.herokuapp.com/api/contacts\", \n                                                  \"POST\", \n                                                  contactInfo).then(newContact => {\n                                                      setMadeChanges(true)\n                                                      addNewContact(newContact.contact)\n                                                    }).catch(error => {\n                                                        console.log(error)\n                                                    })\n                  } catch (error) {\n                    console.log(error)\n                  }\n                }\n\n                  clearForm();\n              }}>\n            <label>Name</label>\n            <input\n                type=\"text\"\n                value={name}\n                placeholder=\"Contact Name\"\n                onChange={(event) => setName(event.target.value)}\n                />\n                <label>Address</label>\n                <input\n                type=\"text\"\n                value={address}\n                placeholder=\"Contact Address\"\n                onChange={(event) => setAddress(event.target.value)}\n                />\n                <label>Phone Number</label>\n                <input\n                type=\"text\"\n                value={phoneNumber}\n                placeholder=\"Contact Phone Number\"\n                onChange={(event) => setPhoneNumber(event.target.value)}\n                />\n                <label>Email</label>\n                <input\n                type=\"text\"\n                value={email}\n                placeholder=\"Contact email address\"\n                onChange={(event) => setEmail(event.target.value)}\n                />\n                <label>Content Type</label>\n                <select\n                value={contactType}\n                onChange={(event) => setContactType(event.target.value)}\n                >\n                    {\n                        CONTACT_OPTIONS.map((type, idx) => {\n                        return <option key={idx} value={type}>{type}</option>\n                        })\n                    }\n                </select>\n                <button id='submit'>{id ? \"Edit Contact\" : \"Create Contact\"}</button>\n                <Link to='/'><div id='return'>Return</div></Link>\n                { madeChanges ? \n                    <div>\n                        <h1>You've made a change to your Contact list!</h1>\n                        <p>Continue to make changes or click above to return to your contacts</p>\n                    </div> : null\n                }\n    </form>\n}\n\nexport default ContactForm;","import React, { useState, useEffect } from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\n\nimport {\n  BrowserRouter as Router,\n  Switch,\n  Route,\n  Link\n} from \"react-router-dom\";\n\nimport fetchAPI  from './api'\n\nimport {\n    ContactForm,\n    ContactView,\n} from './components'\n\nconst App = () => {\n    const [contactList, setContactList] = useState([])\n    const [editableContact, setEditableContact] = useState({});\n    const [search, setSearch] = useState('');\n\n    function addNewContact(newContact) {\n        setContactList([...contactList, newContact])\n    }\n\n\n    function updateContact(updatedContact) {\n        let index = contactList.findIndex((contact) => {\n            return contact.id === updatedContact.id\n        })\n        if (index > -1) {\n      let contactListCopy = [...contactList];\n      contactListCopy[index] = updatedContact;\n      setContactList(contactListCopy);\n      }\n    }\n\n     function filteredContacts() {\n        return contactList.filter((contact) => {\n          return contact.name.toLowerCase().includes(search.toLowerCase());\n        });\n    }\n    \n\n    useEffect(async () => {\n        fetchAPI(\"https://univ-contact-book.herokuapp.com/api/contacts\")\n            .then((response) => {\n                 setContactList(response.contacts)\n            })\n            .catch(console.error);\n    }, [])\n\n\n    return <Router>\n        <Switch>\n            <Route path='/form'>\n                <div className='header'>Contact Form</div>\n                <ContactForm setContactList={setContactList}\n                            addNewContact={addNewContact}\n                            contactList={contactList}\n                            {...editableContact}\n                            setEditableContact={setEditableContact}\n                            updateContact={updateContact} />\n            </Route>\n            <Route path='/'>\n                <div className='header'>Contact List</div>\n                <div id='interaction'>\n                    <span>Create Contact<Link to='/form'><button id=\"create\">+</button></Link></span>\n                    <div id=\"search\">\n                        <label htmlFor=\"keywords\">Search by Name</label>\n                        <input \n                            id=\"keywords\" \n                            type=\"text\" \n                            placeholder=\"Enter Contact Name\" \n                            value={ search } \n                            onChange={(event) => {\n                            setSearch(event.target.value);\n                            }} /></div>\n                </div>\n                <ContactView contactList={filteredContacts()}\n                            setContactList={setContactList}\n                            editableContact={editableContact}\n                            setEditableContact={setEditableContact}/>\n             </Route>\n        </Switch>\n    </Router>\n}\n\nReactDOM.render(\n    <App />,\n    document.getElementById('app')\n);"],"sourceRoot":""}