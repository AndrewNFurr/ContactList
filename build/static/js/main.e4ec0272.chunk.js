(this.webpackJsonpcontact_list_react=this.webpackJsonpcontact_list_react||[]).push([[0],{30:function(t,e,c){},31:function(t,e,c){},32:function(t,e,c){},38:function(t,e,c){},39:function(t,e,c){"use strict";c.r(e);var n=c(20),a=c(4),r=c.n(a),o=c(9),s=c(12),i=c(5),u=c(0),l=c(1),j=c(22),b=c.n(j),d=(c(30),c(10)),p=c(2);function h(){return(h=Object(o.a)(r.a.mark((function t(e){var c,n,a,o,s,i=arguments;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return c=i.length>1&&void 0!==i[1]?i[1]:"GET",n=i.length>2&&void 0!==i[2]?i[2]:null,a={method:c,headers:{"Content-Type":"application/json",Authorization:"Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VybmFtZSI6ImFuZHJldyIsImlhdCI6MTYwNTU3OTQ0MiwiZXhwIjoxNjA2MTg0MjQyfQ.DzczKUz2dVrLpdRGayS4yEiHC9aPWPnuqCoCqDstY-s"}},n&&(a.body=JSON.stringify(n)),t.next=6,fetch(e,a);case 6:return o=t.sent,t.next=9,o.json();case 9:return s=t.sent,t.abrupt("return",s);case 11:case"end":return t.stop()}}),t)})))).apply(this,arguments)}var O=function(t){return h.apply(this,arguments)},m=(c(31),c(32),function(t){var e=t.handleClick,c=Object(l.useState)(""),n=Object(i.a)(c,2),a=n[0],r=n[1];return Object(u.jsxs)("form",{className:"comment-form",onSubmit:function(t){t.preventDefault(),a&&(e(a),r(""))},children:[Object(u.jsx)("textarea",{type:"text",value:a,rows:"8",columns:"80",onChange:function(){r(event.target.value)},placeholder:"Comment"}),Object(u.jsx)("button",{children:"Comment on Contact"})]})}),x=function(t){var e=t.contactList,c=t.setEditableContact,n=t.setContactList,a=t.type;return Object(u.jsxs)("div",{className:"list",children:[Object(u.jsx)("h1",{children:a.toUpperCase()}),e.map((function(t){return a===t.contactType?Object(u.jsxs)("div",{className:"contact",children:[Object(u.jsxs)("div",{className:"info",children:[Object(u.jsxs)("h2",{children:[t.name," (",t.contactType,")"]}),Object(u.jsxs)("p",{children:["Address: ",t.address]}),Object(u.jsxs)("p",{children:["Number: ",t.phoneNumber]}),Object(u.jsxs)("p",{children:["Email: ",t.email]})]}),Object(u.jsxs)("div",{className:"options",children:[Object(u.jsx)("button",{onClick:Object(o.a)(r.a.mark((function c(){var a;return r.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return c.prev=0,a="https://univ-contact-book.herokuapp.com/api/contacts/".concat(t.id),c.next=4,O(a,"DELETE");case 4:c.sent,n(e.filter((function(e){return t!==e}))),c.next=11;break;case 8:c.prev=8,c.t0=c.catch(0),console.log(c.t0);case 11:case"end":return c.stop()}}),c,null,[[0,8]])}))),children:"Delete"}),Object(u.jsx)(d.b,{to:"/form",children:Object(u.jsx)("button",{onClick:function(){c(t)},children:"Edit"})}),Object(u.jsx)(m,{handleClick:function(){var c=Object(o.a)(r.a.mark((function c(a){var o;return r.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return o={content:a},c.prev=1,c.next=4,O("https://univ-contact-book.herokuapp.com/api/contacts/".concat(t.id,"/comments"),"POST",o).then((function(c){var a=Object(s.a)(e),r=a.indexOf(t);a[r].comments.push(c.comment),n(a)})).catch(console.error);case 4:c.next=9;break;case 6:c.prev=6,c.t0=c.catch(1),console.log(c.t0);case 9:case"end":return c.stop()}}),c,null,[[1,6]])})));return function(t){return c.apply(this,arguments)}}()})]}),t.comments?t.comments.map((function(c,a){return Object(u.jsxs)("div",{className:"comment",children:[Object(u.jsx)("p",{children:c.content}),Object(u.jsx)("button",{onClick:Object(o.a)(r.a.mark((function a(){var o,i,u;return r.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,O("https://univ-contact-book.herokuapp.com/api/comments/".concat(c.id),"DELETE");case 3:o=Object(s.a)(e),i=o.indexOf(t),u=o[i].comments.indexOf(c),o[i].comments.splice(u,1),n(o),a.next=13;break;case 10:a.prev=10,a.t0=a.catch(0),console.log(a.t0);case 13:case"end":return a.stop()}}),a,null,[[0,10]])}))),children:"DELETE"})]},a)})):null]},t.id):null}))]})},f=(c(38),function(t){t.setContactList,t.contactList;var e=t.addNewContact,c=t.id,n=t.updateContact,a=t.setEditableContact,s=["choose type","work","personal","other"],j=Object(l.useState)(""),b=Object(i.a)(j,2),p=b[0],h=b[1],m=Object(l.useState)(""),x=Object(i.a)(m,2),f=x[0],v=x[1],C=Object(l.useState)(""),k=Object(i.a)(C,2),y=k[0],g=k[1],w=Object(l.useState)(""),E=Object(i.a)(w,2),N=E[0],L=E[1],S=Object(l.useState)(s[0]),T=Object(i.a)(S,2),I=T[0],D=T[1],J=Object(l.useState)(!1),P=Object(i.a)(J,2),A=P[0],z=P[1];return Object(l.useEffect)((function(){v(t.address||""),h(t.name||""),g(t.phoneNumber||""),L(t.email||""),D(t.contactType||"")}),[c]),Object(u.jsxs)("form",{className:"contact-form",onSubmit:function(){var t=Object(o.a)(r.a.mark((function t(o){var s,i;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(o.preventDefault(),s={name:p,address:f,phoneNumber:y,email:N,contactType:I},!c){t.next=17;break}return t.prev=3,t.next=6,O("https://univ-contact-book.herokuapp.com/api/contacts/".concat(c),"PATCH",s);case 6:i=t.sent,n(i.contact),z(!0),a({}),t.next=15;break;case 12:t.prev=12,t.t0=t.catch(3),console.log(t.t0);case 15:t.next=25;break;case 17:return t.prev=17,t.next=20,O("https://univ-contact-book.herokuapp.com/api/contacts","POST",s).then((function(t){z(!0),e(t.contact)})).catch((function(t){console.log(t)}));case 20:t.next=25;break;case 22:t.prev=22,t.t1=t.catch(17),console.log(t.t1);case 25:v(""),h(""),g(""),L(""),D("");case 26:case"end":return t.stop()}}),t,null,[[3,12],[17,22]])})));return function(e){return t.apply(this,arguments)}}(),children:[Object(u.jsx)("label",{children:"Name"}),Object(u.jsx)("input",{type:"text",value:p,placeholder:"Contact Name",onChange:function(t){return h(t.target.value)}}),Object(u.jsx)("label",{children:"Address"}),Object(u.jsx)("input",{type:"text",value:f,placeholder:"Contact Address",onChange:function(t){return v(t.target.value)}}),Object(u.jsx)("label",{children:"Phone Number"}),Object(u.jsx)("input",{type:"text",value:y,placeholder:"Contact Phone Number",onChange:function(t){return g(t.target.value)}}),Object(u.jsx)("label",{children:"Email"}),Object(u.jsx)("input",{type:"text",value:N,placeholder:"Contact email address",onChange:function(t){return L(t.target.value)}}),Object(u.jsx)("label",{children:"Content Type"}),Object(u.jsx)("select",{value:I,onChange:function(t){return D(t.target.value)},children:s.map((function(t,e){return Object(u.jsx)("option",{value:t,children:t},e)}))}),Object(u.jsx)("button",{id:"submit",children:c?"Edit Contact":"Create Contact"}),Object(u.jsx)(d.b,{to:"/",children:Object(u.jsx)("div",{id:"return",children:"Return"})}),A?Object(u.jsxs)("div",{children:[Object(u.jsx)("h1",{children:"You've made a change to your Contact list!"}),Object(u.jsx)("p",{children:"Continue to make changes or click above to return to your contacts"})]}):null]})}),v=function(){var t=Object(l.useState)([]),e=Object(i.a)(t,2),c=e[0],a=e[1],j=Object(l.useState)({}),b=Object(i.a)(j,2),h=b[0],m=b[1],v=Object(l.useState)(""),C=Object(i.a)(v,2),k=C[0],y=C[1],g=Object(l.useState)(""),w=Object(i.a)(g,2);w[0],w[1];function E(){return c.filter((function(t){return t.name.toLowerCase().includes(k.toLowerCase())}))}return Object(l.useEffect)(Object(o.a)(r.a.mark((function t(){return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:O("https://univ-contact-book.herokuapp.com/api/contacts").then((function(t){a(t.contacts)})).catch(console.error);case 1:case"end":return t.stop()}}),t)}))),[]),Object(u.jsx)(d.a,{children:Object(u.jsxs)(p.c,{children:[Object(u.jsxs)(p.a,{path:"/form",children:[Object(u.jsx)("div",{className:"header",children:"Contact Form"}),Object(u.jsx)(f,Object(n.a)(Object(n.a)({setContactList:a,addNewContact:function(t){a([].concat(Object(s.a)(c),[t]))},contactList:c},h),{},{setEditableContact:m,updateContact:function(t){var e=c.findIndex((function(e){return e.id===t.id}));if(e>-1){var n=Object(s.a)(c);n[e]=t,a(n)}}}))]}),Object(u.jsxs)(p.a,{path:"/",children:[Object(u.jsx)("div",{className:"header",children:"Contact List"}),Object(u.jsxs)("div",{id:"interaction",children:[Object(u.jsxs)("span",{children:["Create Contact",Object(u.jsx)(d.b,{to:"/form",children:Object(u.jsx)("button",{id:"create",children:"+"})})]}),Object(u.jsxs)("div",{id:"search",children:[Object(u.jsx)("label",{htmlFor:"keywords",children:"Search by Name"}),Object(u.jsx)("input",{id:"keywords",type:"text",placeholder:"Enter Contact Name",value:k,onChange:function(t){y(t.target.value)}})]})]}),Object(u.jsxs)("div",{id:"split-list",children:[Object(u.jsx)(x,{contactList:E(),setContactList:a,editableContact:h,setEditableContact:m,type:"work"}),Object(u.jsx)(x,{contactList:E(),setContactList:a,editableContact:h,setEditableContact:m,type:"personal"}),Object(u.jsx)(x,{contactList:E(),setContactList:a,editableContact:h,setEditableContact:m,type:"other"})]})]})]})})};b.a.render(Object(u.jsx)(v,{}),document.getElementById("app"))}},[[39,1,2]]]);
//# sourceMappingURL=main.e4ec0272.chunk.js.map